# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ IndentationError –≤ TeachAI

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–Ω–æ–ø–∫–∏ "–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã" –≤ TeachAI –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞ `IndentationError: expected an indented block after function definition on line 1`. 

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–æ–¥–∞:**
```python
def machine_learning_definition():
print("–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ - —ç—Ç–æ –æ–±–ª–∞—Å—Ç—å –ò–ò")  # ‚ùå –ù–µ—Ç –æ—Ç—Å—Ç—É–ø–∞
return "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–≤–µ–¥–µ–Ω–æ"                 # ‚ùå –ù–µ—Ç –æ—Ç—Å—Ç—É–ø–∞
```

**–ü—Ä–∏–º–µ—Ä —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏ —É –∏–º–ø–æ—Ä—Ç–æ–≤:**
```python
def ml_example():
from sklearn.datasets import make_classification      # ‚ùå –õ–∏—à–Ω–∏–π –æ—Ç—Å—Ç—É–ø
    from sklearn.model_selection import train_test_split  # ‚ùå –õ–∏—à–Ω–∏–π –æ—Ç—Å—Ç—É–ø
```

## üîç –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

1. **LLM –Ω–µ –≤—Å–µ–≥–¥–∞ —Å–æ–±–ª—é–¥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –æ—Ç—Å—Ç—É–ø–æ–≤ Python** - –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –ø—Ä–æ–º–ø—Ç–µ
2. **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ `_clean_code_indentation`** –±—ã–ª —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç—ã–º –∏ –Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –æ—Ç—Å—Ç—É–ø—ã
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ü–∏—è** –æ—Ç—Å—Ç—É–ø–æ–≤ –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£—Å–∏–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞

–î–æ–±–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –æ—Ç—Å—Ç—É–ø–æ–≤:

```python
üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ë–ï–ó –û–¢–°–¢–£–ü–û–í –ö–û–î –ù–ï –†–ê–ë–û–¢–ê–ï–¢! üö®
- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —Ç–µ–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏ –î–û–õ–ñ–ù–ê –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å 4 –ø—Ä–æ–±–µ–ª–æ–≤
- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —É—Å–ª–æ–≤–Ω–æ–º –±–ª–æ–∫–µ –î–û–õ–ñ–ù–ê –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å 4 –ø—Ä–æ–±–µ–ª–æ–≤
- –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —Ü–∏–∫–ª–µ –î–û–õ–ñ–ù–ê –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å 4 –ø—Ä–æ–±–µ–ª–æ–≤
- –ò–º–ø–æ—Ä—Ç—ã –ù–ï –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –æ—Ç—Å—Ç—É–ø—ã - –æ–Ω–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è!
- –ë–µ–∑ —ç—Ç–æ–≥–æ Python –≤—ã–¥–∞—Å—Ç IndentationError –∏ –∫–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è!

üìã –°–¢–†–£–ö–¢–£–†–ê –û–¢–°–¢–£–ü–û–í:
- –£—Ä–æ–≤–µ–Ω—å 0 (–º–æ–¥—É–ª—å): import, from, def, class, –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π
- –£—Ä–æ–≤–µ–Ω—å 1 (4 –ø—Ä–æ–±–µ–ª–∞): —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–µ–ª–æ –∫–ª–∞—Å—Å–∞, —Ç–µ–ª–æ —É—Å–ª–æ–≤–∏—è
- –£—Ä–æ–≤–µ–Ω—å 2 (8 –ø—Ä–æ–±–µ–ª–æ–≤): –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏
- –£—Ä–æ–≤–µ–Ω—å 3 (12 –ø—Ä–æ–±–µ–ª–æ–≤): –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–∫–∏
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—Ç—É–ø–æ–≤

–ü–µ—Ä–µ–ø–∏—Å–∞–Ω –º–µ—Ç–æ–¥ `_clean_code_indentation()` —Å —É–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π:

```python
def _clean_code_indentation(self, examples):
    """
    –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ú–ï–¢–û–î: –£–º–Ω–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—Å—Ç—É–ø—ã –≤ Python –∫–æ–¥–µ.
    """
    def fix_code_indentation(code_block):
        lines = code_block.split('\n')
        fixed_lines = []
        current_indent_level = 0
        in_function = False
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤ –∫–æ–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏
        has_functions = any('def ' in line or 'class ' in line for line in lines)
        
        for i, line in enumerate(lines):
            stripped = line.strip()
            
            if stripped.startswith('def ') or stripped.startswith('class '):
                # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏/–∫–ª–∞—Å—Å–∞ - —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —É—Ä–æ–≤–µ–Ω—å –æ—Ç—Å—Ç—É–ø–∞
                current_indent_level = 0
                in_function = True
                fixed_lines.append(stripped)
            elif stripped.startswith('if ') or stripped.startswith('for ') or stripped.startswith('while '):
                # –£—Å–ª–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ - —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —É—Ä–æ–≤–µ–Ω—å –æ—Ç—Å—Ç—É–ø–∞
                current_indent_level += 1
                fixed_lines.append(stripped)
            elif stripped.startswith('print(') or stripped.startswith('return '):
                # –ö–æ–º–∞–Ω–¥—ã –≤ –±–ª–æ–∫–µ - –¥–æ–±–∞–≤–ª—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø
                if in_function or current_indent_level > 0 or has_functions:
                    indent = '    ' * (current_indent_level + 1)
                    fixed_lines.append(indent + stripped)
                else:
                    fixed_lines.append(stripped)
            elif stripped.startswith('import ') or stripped.startswith('from '):
                # –ò–º–ø–æ—Ä—Ç—ã - –ù–ï –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –æ—Ç—Å—Ç—É–ø—ã
                fixed_lines.append(stripped)
            else:
                # –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã - —É–º–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω—É–∂–µ–Ω –ª–∏ –æ—Ç—Å—Ç—É–ø
                if stripped.endswith('()') and not (in_function or current_indent_level > 0):
                    # –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è
                    fixed_lines.append(stripped)
                elif (in_function or current_indent_level > 0 or has_functions) and not stripped.startswith('#'):
                    # –ï—Å–ª–∏ –≤ –±–ª–æ–∫–µ - –¥–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø
                    indent = '    ' * (current_indent_level + 1)
                    fixed_lines.append(indent + stripped)
                else:
                    # –ï—Å–ª–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è - —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ –ø—Ä–æ–±–µ–ª—ã
                    fixed_lines.append(stripped)
        
        return '\n'.join(fixed_lines)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω —Ç–µ—Å—Ç `test_indentation_fix.py`:

**–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```python
def machine_learning_definition():
print("–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ - —ç—Ç–æ –æ–±–ª–∞—Å—Ç—å –ò–ò")  # –ë–µ–∑ –æ—Ç—Å—Ç—É–ø–∞
return "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–≤–µ–¥–µ–Ω–æ"                 # –ë–µ–∑ –æ—Ç—Å—Ç—É–ø–∞

def ml_example():
from sklearn.datasets import make_classification      # –° –ª–∏—à–Ω–∏–º –æ—Ç—Å—Ç—É–ø–æ–º
    from sklearn.model_selection import train_test_split  # –° –ª–∏—à–Ω–∏–º –æ—Ç—Å—Ç—É–ø–æ–º
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```python
def machine_learning_definition():
    print("–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ - —ç—Ç–æ –æ–±–ª–∞—Å—Ç—å –ò–ò")  # ‚úÖ –° –æ—Ç—Å—Ç—É–ø–æ–º
    return "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—ã–≤–µ–¥–µ–Ω–æ"                 # ‚úÖ –° –æ—Ç—Å—Ç—É–ø–æ–º

def ml_example():
from sklearn.datasets import make_classification      # ‚úÖ –ë–µ–∑ –æ—Ç—Å—Ç—É–ø–∞
from sklearn.model_selection import train_test_split  # ‚úÖ –ë–µ–∑ –æ—Ç—Å—Ç—É–ø–∞
```

**–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∞:** ‚úÖ –ü–†–û–ô–î–ï–ù

## üìÅ –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã

- **`examples_generation.py`** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
  - –ú–µ—Ç–æ–¥ `_clean_code_indentation()` –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω
  - –ú–µ—Ç–æ–¥ `_build_enhanced_examples_prompt()` —É—Å–∏–ª–µ–Ω

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

1. **IndentationError –±–æ–ª—å—à–µ –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç** - –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
2. **–ò–º–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç—Å—è** - –±–µ–∑ –ª–∏—à–Ω–∏—Ö –æ—Ç—Å—Ç—É–ø–æ–≤
3. **–ö–æ–º–∞–Ω–¥—ã –≤ –±–ª–æ–∫–∞—Ö –ø–æ–ª—É—á–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã** - 4 –ø—Ä–æ–±–µ–ª–∞
4. **–í—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è** –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –æ—Ç—Å—Ç—É–ø–æ–≤
5. **–ö–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã" —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ** –±–µ–∑ –æ—à–∏–±–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç:
- ‚úÖ –ù–∞–∂–∏–º–∞—Ç—å "–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã" –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–æ–ª—É—á–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
- ‚úÖ –ó–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –±–µ–∑ `IndentationError`
- ‚úÖ –í–∏–¥–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Ç—Å—Ç—É–ø–æ–≤ Python

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 17.08.2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** ‚úÖ –ü–†–û–ô–î–ï–ù–û
